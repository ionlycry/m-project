{"ast":null,"code":"import SearchHistory from './components/SearchHistory.vue';\nimport SearchResult from './components/SearchResult.vue';\nimport SearchSuggestion from './components/SearchSuggestion.vue';\nexport default {\n  data() {\n    return {\n      value: '',\n      isShowResult: false\n    };\n  },\n  components: {\n    SearchHistory,\n    SearchResult,\n    SearchSuggestion\n  },\n  methods: {\n    onCancel() {\n      console.log('取消');\n    },\n    onSearch(val) {\n      console.log(val);\n      this.isShowResult = true;\n      this.value = val;\n    }\n  }\n};","map":{"version":3,"mappings":"AA2BA;AACA;AACA;AACA;EACAA;IACA;MACAC;MACAC;IACA;EACA;EACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACAC;MACAC;IACA;IACAC;MACAD;MACA;MACA;IACA;EACA;AACA","names":["data","value","isShowResult","components","SearchHistory","SearchResult","SearchSuggestion","methods","onCancel","console","onSearch"],"sourceRoot":"src/views/Search","sources":["index.vue"],"sourcesContent":["<template>\r\n  <div class=\"search-container\">\r\n    <!-- 顶部输入框 -->\r\n    <form class=\"serach-form\" action=\"/\">\r\n      <van-search\r\n        v-model=\"value\"\r\n        show-action\r\n        placeholder=\"请输入搜索关键词\"\r\n        background=\"#3296fa\"\r\n        @cancel=\"onCancel\"\r\n        @search=\"onSearch\"\r\n        @input=\"isShowResult = false\" />\r\n    </form>\r\n    <!-- 逻辑：是否显示搜索结果，默认不显示，如果不显示搜索结果，判断是否有搜索值，没有搜索值，就显示历史记录 -->\r\n    <!-- 搜索结果 -->\r\n    <SearchResult v-if=\"isShowResult\" :inputVal=\"value\"></SearchResult>\r\n    <!-- 搜索建议 -->\r\n    <SearchSuggestion\r\n      :inputVal=\"value\"\r\n      v-else-if=\"value\"\r\n      @search=\"onSearch\"></SearchSuggestion>\r\n    <!-- 搜索历史 -->\r\n    <SearchHistory v-else></SearchHistory>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SearchHistory from './components/SearchHistory.vue'\r\nimport SearchResult from './components/SearchResult.vue'\r\nimport SearchSuggestion from './components/SearchSuggestion.vue'\r\nexport default {\r\n  data() {\r\n    return {\r\n      value: '',\r\n      isShowResult: false,\r\n    }\r\n  },\r\n  components: {\r\n    SearchHistory,\r\n    SearchResult,\r\n    SearchSuggestion,\r\n  },\r\n  methods: {\r\n    onCancel() {\r\n      console.log('取消')\r\n    },\r\n    onSearch(val) {\r\n      console.log(val)\r\n      this.isShowResult = true\r\n      this.value = val\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.search-container {\r\n  .serach-form {\r\n    position: fixed;\r\n    top: 0;\r\n    right: 0;\r\n    left: 0;\r\n    z-index: 1;\r\n  }\r\n  .van-search__action {\r\n    color: #fff;\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}