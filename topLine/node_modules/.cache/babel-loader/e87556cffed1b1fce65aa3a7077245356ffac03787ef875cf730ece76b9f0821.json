{"ast":null,"code":"import \"core-js/modules/es.array.unshift.js\";\nimport CommentItem from '@/views/Comment/CommentItem.vue';\nimport CommentList from '@/views/Comment/CommentList.vue';\nimport CommentPost from '@/views/Comment/CommentPost.vue';\nexport default {\n  components: {\n    CommentItem,\n    CommentList,\n    CommentPost\n  },\n  props: {\n    comment: {\n      type: Object,\n      required: true\n    },\n    articalId: {\n      type: [Number, String, Object],\n      required: true\n    }\n  },\n  data() {\n    return {\n      isPopShow: false\n    };\n  },\n  methods: {\n    updateCommentFn(obj) {\n      this.$refs['commentList'].commentList.unshift(obj);\n      this.comment.reply_count++;\n    }\n  }\n};","map":{"version":3,"mappings":";AAkCA;AACA;AACA;AACA;EACAA;IACAC;IACAC;IACAC;EACA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;EACA;EACAE;IACA;MACAC;IACA;EACA;EACAC;IACAC;MACA;MACA;IACA;EACA;AACA","names":["components","CommentItem","CommentList","CommentPost","props","comment","type","required","articalId","data","isPopShow","methods","updateCommentFn"],"sourceRoot":"src/views/Comment","sources":["CommentReply.vue"],"sourcesContent":["<template>\r\n  <div class=\"comment-replywrap\">\r\n    <van-nav-bar\r\n      :title=\"\r\n        comment.reply_count > 0 ? `${comment.reply_count}条回复` : '暂无回复'\r\n      \">\r\n      <van-icon slot=\"left\" name=\"cross\" @click=\"$emit('close')\" />\r\n    </van-nav-bar>\r\n    <div class=\"scroll-wrap\">\r\n      <!-- 评论对象 -->\r\n      <comment-item :comments=\"comment\"></comment-item>\r\n\r\n      <!-- 评论的回复列表 -->\r\n      <van-cell title=\"全部回复\" />\r\n      <comment-list :sourceId=\"comment.com_id\" type=\"c\" ref=\"commentList\">\r\n      </comment-list>\r\n    </div>\r\n    <!-- 写评论 -->\r\n    <van-button @click=\"isPopShow = true\" block class=\"postbtn\"\r\n      >写评论</van-button\r\n    >\r\n\r\n    <!-- 回复弹出层 -->\r\n    <van-popup v-model=\"isPopShow\" position=\"bottom\">\r\n      <CommentPost\r\n        :targetId=\"comment.com_id\"\r\n        @updatePop=\"isPopShow = false\"\r\n        @updateComment=\"updateCommentFn\"\r\n        :artId=\"articalId\" />\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CommentItem from '@/views/Comment/CommentItem.vue'\r\nimport CommentList from '@/views/Comment/CommentList.vue'\r\nimport CommentPost from '@/views/Comment/CommentPost.vue'\r\nexport default {\r\n  components: {\r\n    CommentItem,\r\n    CommentList,\r\n    CommentPost,\r\n  },\r\n  props: {\r\n    comment: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    articalId: {\r\n      type: [Number, String, Object],\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      isPopShow: false,\r\n    }\r\n  },\r\n  methods: {\r\n    updateCommentFn(obj) {\r\n      this.$refs['commentList'].commentList.unshift(obj)\r\n      this.comment.reply_count++\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.comment-replywrap {\r\n  .van-nav-bar {\r\n    ::v-deep .van-nav-bar__content {\r\n      background-color: #fff;\r\n      .van-nav-bar__title {\r\n        color: #222222;\r\n      }\r\n      .van-icon-cross {\r\n        font-size: 36px;\r\n      }\r\n    }\r\n  }\r\n  .scroll-wrap {\r\n    position: fixed;\r\n    top: 92px;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 88px;\r\n    overflow-y: auto;\r\n  }\r\n  .postbtn {\r\n    position: fixed;\r\n    bottom: 0px;\r\n    left: 0px;\r\n    right: 0px;\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}