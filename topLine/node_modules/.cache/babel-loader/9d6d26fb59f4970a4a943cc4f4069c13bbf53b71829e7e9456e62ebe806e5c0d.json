{"ast":null,"code":"import { editUserProfile } from '@/api/user';\nimport dayjs from 'dayjs';\nexport default {\n  props: {\n    userBirthday: {\n      type: [String, Number],\n      required: true\n    }\n  },\n  data() {\n    return {\n      minDate: new Date(1970, 1, 1),\n      maxDate: new Date(),\n      currentDate: new Date(this.userBirthday)\n    };\n  },\n  methods: {\n    async updateBirthday() {\n      try {\n        const birthday = dayjs(this.currentDate).formate('YYYY-MM-DD');\n        // 提交修改\n        const {\n          data\n        } = await editUserProfile({\n          birthday: birthday\n        });\n        // 更新视图\n        this.$emit('updateBirthday', index);\n        // 关闭popup\n        this.$emit('close');\n        console.log(data);\n        this.$toast('修改成功');\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"AAiBA;AACA;AACA;EACAA;IACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACA;QACA;QACA;QACA;UAAAJ;QAAA;UACAK;QACA;QACA;QACA;QACA;QACA;QACAC;QACA;MACA;QACAA;MACA;IACA;EACA;AACA","names":["props","userBirthday","type","required","data","minDate","maxDate","currentDate","methods","birthday","console"],"sourceRoot":"src/views/User/components","sources":["UpdateBirthday.vue"],"sourcesContent":["<template>\r\n  <div class=\"edit-time-wrap\">\r\n    <!-- 编辑框 -->\r\n    <div>\r\n      <van-datetime-picker\r\n        v-model=\"currentDate\"\r\n        type=\"date\"\r\n        title=\"生日\"\r\n        :min-date=\"minDate\"\r\n        :max-date=\"maxDate\"\r\n        @comfirm=\"onEditBirthday(val)\"\r\n        @cancel=\"$emit('close')\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { editUserProfile } from '@/api/user'\r\nimport dayjs from 'dayjs'\r\nexport default {\r\n  props: {\r\n    userBirthday: {\r\n      type: [String, Number],\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      minDate: new Date(1970, 1, 1),\r\n      maxDate: new Date(),\r\n      currentDate: new Date(this.userBirthday),\r\n    }\r\n  },\r\n  methods: {\r\n    async updateBirthday() {\r\n      try {\r\n        const birthday = dayjs(this.currentDate).formate('YYYY-MM-DD')\r\n        // 提交修改\r\n        const { data } = await editUserProfile({\r\n          birthday: birthday,\r\n        })\r\n        // 更新视图\r\n        this.$emit('updateBirthday', index)\r\n        // 关闭popup\r\n        this.$emit('close')\r\n        console.log(data)\r\n        this.$toast('修改成功')\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped></style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}